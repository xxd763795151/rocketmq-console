<div class="container-fluid table-text-center" id="subItemInfoList" role="main">
    <div class="modal-body">
        <div class="row">
            <form class="form-inline pull-left col-sm-12">
                <div class="form-group form-group-sm">
                    <label>{{'USERNAME' | translate}}:</label>
                    <input type="text" class="form-control" ng-model="username">
                </div>
                <button class="btn btn-raised btn-sm btn-primary" type="button" ng-click="initList()">
                    {{'REFRESH' | translate}}
                </button>
                <button class="btn btn-raised btn-sm btn-primary" type="button" ng-click="addSubItem()">
                    {{'ADD' | translate}}
                </button>
            </form>
        </div>
        <br>

        <div ng-cloak="" class="tabsdemoDynamicHeight">
            <div>
                <div class="row">
                    <table class="table table-bordered text-middle">
                        <tr>
                            <th class="text-center">{{'ITEM' | translate}}</th>
                            <th class="text-center">{{'ITEM_CODE' | translate}}</th>
                            <th class="text-center">{{'PROJECT_TEAM' | translate}}</th>
                            <th class="text-center">{{'CREATE' | translate}} {{'USERNAME' | translate}}</th>
                            <th class="text-center">{{'DESCRIPTION' | translate}}</th>
                            <th class="text-center">{{ 'OPERATION' | translate}}</th>
                        </tr>
                        <tr ng-repeat="record in subItemDataList">
                            <td class="text-left">{{record.subItemName}}</td>
                            <td class="text-left">{{record.subItemCode}}</td>
                            <td class="text-left">{{record.itemName}}</td>
                            <td class="text-left">{{record.username}}</td>
                            <td class="text-left">{{record.description}}</td>
                            <td class="text-left">
                                <button class="btn btn-raised btn-sm btn-primary" type="button"
                                        ng-click="openUpdateSubItemDialog(record)">{{'UPDATE' | translate}}
                                </button>
                                <button class="btn btn-raised btn-sm btn-primary" type="button"
                                        ng-show="{{show}}"
                                        ng-confirm-click="Are you sure to delete?"
                                        confirmed-click="deleteSubItem(record)">{{'DELETE' | translate}}
                                </button>
                            </td>
                        </tr>
                    </table>
                </div>
                <tm-pagination conf="paginationConf"></tm-pagination>
            </div>

        </div>


    </div>
</div>


<script type="text/ng-template" id="addSubItemDialog">
    <div class="modal-header">
        <h4 class="modal-title">{{'ADD' | translate}} {{'ITEM_INFO' | translate}}</h4>
    </div>
    <div class="modal-body">
        <form id="addSubItemForm" name="addSubItemForm" class="form-horizontal" novalidate>
            <div class="form-group">
                <label class="control-label col-sm-2">{{'ITEM_CODE' | translate}}:</label>
                <div class="col-sm-10">
                    <input class="form-control" ng-model="ngDialogData.subItemCode" type="text" placeholder="项目编码，如: account"
                           required/>
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-sm-2">{{'ITEM' | translate}}:</label>
                <div class="col-sm-10">
                    <input class="form-control" ng-model="ngDialogData.subItemName" type="text"
                           placeholder="项目名称，如：对账系统" required/>
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-sm-2">{{'DESCRIPTION' | translate}}:</label>
                <div class="col-sm-10">
                    <textarea class="form-control" ng-model="ngDialogData.description"
                              placeholder="项目描述信息，如果有需要补充的可以填写在这里，管理员及后续维护都可以看到"></textarea>
                </div>
            </div>
        </form>
        <div class="modal-footer">
            <div class="ngdialog-buttons">
                <button type="button" class="ngdialog-button ngdialog-button-primary" id="addSubItemBtn"
                        ng-click="applyTopicRequest(ngDialogData)">{{ 'COMMIT' | translate }}
                </button>
                <button type="button" class="ngdialog-button ngdialog-button-secondary"
                        ng-click="closeThisDialog('Cancel')">{{ 'CLOSE' | translate }}
                </button>
            </div>
        </div>
    </div>

</script>

<script type="text/ng-template" id="updateSubItemDialog">
    <div class="modal-header">
        <h4 class="modal-title">{{'ADD' | translate}} {{'ITEM_INFO' | translate}}</h4>
    </div>
    <div class="modal-body">
        <form id="updateSubItemForm" name="updateSubItemForm" class="form-horizontal" novalidate>
            <div class="form-group">
                <label class="control-label col-sm-2">{{'ITEM_CODE' | translate}}:</label>
                <div class="col-sm-10">
                    <input class="form-control" ng-model="ngDialogData.subItemCode" type="text" placeholder="项目编码，如: account"
                           ng-disabled="true"/>
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-sm-2">{{'ITEM' | translate}}:</label>
                <div class="col-sm-10">
                    <input class="form-control" ng-model="ngDialogData.subItemName" type="text"
                           placeholder="项目名称，如：对账系统" required/>
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-sm-2">{{'DESCRIPTION' | translate}}:</label>
                <div class="col-sm-10">
                    <textarea class="form-control" ng-model="ngDialogData.description"
                              placeholder="项目描述信息，如果有需要补充的可以填写在这里，管理员及后续维护都可以看到"></textarea>
                </div>
            </div>
        </form>
        <div class="modal-footer">
            <div class="ngdialog-buttons">
                <button type="button" class="ngdialog-button ngdialog-button-primary" id="updateSubItemBtn"
                        ng-click="applyTopicRequest(ngDialogData)">{{ 'COMMIT' | translate }}
                </button>
                <button type="button" class="ngdialog-button ngdialog-button-secondary"
                        ng-click="closeThisDialog('Cancel')">{{ 'CLOSE' | translate }}
                </button>
            </div>
        </div>
    </div>

</script>